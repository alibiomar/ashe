(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[252],{2546:(e,a,s)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/signup",function(){return s(4180)}])},4180:(e,a,s)=>{"use strict";s.r(a),s.d(a,{default:()=>c});var l=s(4848),r=s(6540),t=s(6715),i=s(1268),d=s(1884),o=s(1555),n=s(4721);function c(){let[e,a]=(0,r.useState)(""),[s,c]=(0,r.useState)(""),[u,h]=(0,r.useState)(""),[m,p]=(0,r.useState)(""),[g,x]=(0,r.useState)(""),[b,f]=(0,r.useState)(""),[w,v]=(0,r.useState)(null),[j,N]=(0,r.useState)(!1),k=(0,t.useRouter)(),y=async a=>{if(a.preventDefault(),v(null),N(!0),g!==b){n.oR.error("Passwords do not match!"),N(!1);return}if(!/\S+@\S+\.\S+/.test(m)){n.oR.error("Please enter a valid email address."),N(!1);return}if(!/^\d{8,15}$/.test(u)){n.oR.error("Phone number must be 8-15 digits"),N(!1);return}try{let a=(await (0,i.eJ)(o.j,m,g)).user;await (0,d.BN)((0,d.H9)(o.db,"users",a.uid),{firstName:e,lastName:s,phone:u,email:m,createdAt:new Date().toISOString()}),await (0,d.BN)((0,d.H9)(o.db,"baskets",a.uid),{items:[]}),await (0,i.gA)(a),n.oR.success("Signup successful! A verification email has been sent. Please check your inbox."),await (0,i.CI)(o.j),k.push("/login")}catch(e){switch(e.code){case"auth/email-already-in-use":n.oR.error("This email is already in use. Please use a different email.");break;case"auth/weak-password":n.oR.error("Password is too weak. Please use a stronger password.");break;default:n.oR.error("An unexpected error occurred. Please try again.")}}finally{N(!1)}};return(0,l.jsxs)(r.Suspense,{fallback:(0,l.jsx)("div",{className:"loader"}),children:[(0,l.jsxs)("div",{className:"min-h-screen flex flex-col items-center justify-center ",children:[(0,l.jsx)(n.l$,{position:"bottom-center"}),(0,l.jsxs)("div",{className:"w-full max-w-lg mx-auto bg-white -lg shadow-lg overflow-hidden",children:[(0,l.jsx)("div",{className:"md:hidden",children:(0,l.jsx)("img",{src:"/image_h.jpg",alt:"Signup",className:"w-full h-48 object-cover"})}),(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2",children:[(0,l.jsx)("div",{className:"hidden md:block",children:(0,l.jsx)("img",{src:"/image_h.jpg",alt:"Signup",className:"w-full h-full object-cover"})}),(0,l.jsxs)("div",{className:"p-8 relative",children:[(0,l.jsx)("h2",{className:"text-2xl font-bold mb-6 text-center",children:"Sign Up"}),(0,l.jsx)("button",{className:"absolute top-3 right-3 text-gray-400 hover:text-red-500 text-xl font-bold",onClick:()=>k.push("/"),"aria-label":"Close",children:"\xd7"}),(0,l.jsxs)("form",{onSubmit:y,className:"grid gap-4",children:[(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,l.jsx)("div",{children:(0,l.jsx)("input",{type:"text",placeholder:"First Name",className:"w-full p-2 border -md placeholder-sm",value:e,onChange:e=>a(e.target.value),required:!0})}),(0,l.jsx)("div",{children:(0,l.jsx)("input",{type:"text",placeholder:"Last Name",className:"w-full p-2 border -md placeholder-sm",value:s,onChange:e=>c(e.target.value),required:!0})})]}),(0,l.jsx)("div",{children:(0,l.jsx)("input",{type:"tel",placeholder:"Phone Number",className:"w-full p-2 border -md placeholder-sm",value:u,onChange:e=>h(e.target.value)})}),(0,l.jsx)("div",{children:(0,l.jsx)("input",{type:"email",placeholder:"Email",className:"w-full p-2 border -md placeholder-sm",value:m,onChange:e=>p(e.target.value),required:!0})}),(0,l.jsx)("div",{children:(0,l.jsx)("input",{type:"password",placeholder:"Password",className:"w-full p-2 border -md placeholder-sm",value:g,onChange:e=>x(e.target.value),required:!0})}),(0,l.jsx)("div",{children:(0,l.jsx)("input",{type:"password",placeholder:"Confirm Password",className:"w-full p-2 border -md placeholder-sm",value:b,onChange:e=>f(e.target.value),required:!0})}),(0,l.jsx)("button",{type:"submit",className:"w-full py-4 border-2 border-black font-bold uppercase tracking-wide flex items-center justify-center transition-all bg-black text-white hover:bg-white hover:text-black focus:bg-white focus:text-black focus:outline-none ",disabled:j,children:j?(0,l.jsx)("div",{className:"loading"}):"Sign Up"})]}),(0,l.jsx)("div",{className:"text-center mt-4",children:(0,l.jsxs)("p",{className:"text-sm",children:["Already have an account?"," ",(0,l.jsx)("a",{href:"/login",className:"w-full  mt-4 py-4 border-2 border-black font-bold uppercase tracking-wide flex items-center justify-center transition-all bg-white text-black hover:bg-black hover:text-white focus:bg-white focus:text-black focus:outline-none ",onClick:e=>{e.preventDefault(),k.push("/login")},children:"Log in"})]})})]})]})]})]}),"                      "]})}}},e=>{var a=a=>e(e.s=a);e.O(0,[183,636,593,792],()=>a(2546)),_N_E=e.O()}]);