"use strict";(()=>{var e={};e.id=268,e.ids=[25,268],e.modules={7345:(e,t,a)=>{a.a(e,async(e,s)=>{try{a.r(t),a.d(t,{config:()=>b,default:()=>u,getServerSideProps:()=>x,getStaticPaths:()=>m,getStaticProps:()=>p,reportWebVitals:()=>g,routeModule:()=>S,unstable_getServerProps:()=>y,unstable_getServerSideProps:()=>k,unstable_getStaticParams:()=>v,unstable_getStaticPaths:()=>f,unstable_getStaticProps:()=>h});var r=a(3865),i=a(9455),o=a(671),l=a(9407),c=a(2327),n=a(5383),d=e([c,n]);[c,n]=d.then?(await d)():d;let u=(0,o.M)(n,"default"),p=(0,o.M)(n,"getStaticProps"),m=(0,o.M)(n,"getStaticPaths"),x=(0,o.M)(n,"getServerSideProps"),b=(0,o.M)(n,"config"),g=(0,o.M)(n,"reportWebVitals"),h=(0,o.M)(n,"unstable_getStaticProps"),f=(0,o.M)(n,"unstable_getStaticPaths"),v=(0,o.M)(n,"unstable_getStaticParams"),y=(0,o.M)(n,"unstable_getServerProps"),k=(0,o.M)(n,"unstable_getServerSideProps"),S=new r.PagesRouteModule({definition:{kind:i.A.PAGES,page:"/products",pathname:"/products",bundlePath:"",filename:""},components:{App:c.default,Document:l.default},userland:n});s()}catch(e){s(e)}})},25:(e,t,a)=>{a.r(t),a.d(t,{default:()=>r});var s=a(8732);a(2015);let r=()=>(0,s.jsx)("div",{className:"loader-container",children:(0,s.jsxs)("svg",{className:"loader",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1427.4 1153.8",width:"500",height:"500",children:[(0,s.jsx)("defs",{children:(0,s.jsx)("filter",{id:"blurFilter",children:(0,s.jsx)("feGaussianBlur",{in:"SourceGraphic",stdDeviation:"0",children:(0,s.jsx)("animate",{attributeName:"stdDeviation",values:"0;50;0",dur:"2s",repeatCount:"indefinite"})})})}),(0,s.jsx)("path",{d:"M904.3,531.7c-66.1.1-121.5-53.4-121.2-119.5.3,66.2-55,119.6-121.2,119.5,0,0-327,0-327,0v13h327c66.1-.1,121.5,53.4,121.2,119.5-.3-66.2,55-119.6,121.2-119.5,0,0,216.7,0,216.7,0v-13h-216.7ZM840.1,544.7c-25,14.5-45.2,36.7-57,63.2-13.8-30.8-38.9-55.9-69.7-69.7,30.8-13.8,55.9-38.9,69.7-69.7,13.8,30.8,39,56,69.7,69.7-4.4,2-8.6,4.1-12.7,6.5Z",fill:"#000",stroke:"#000",strokeWidth:"4",strokeLinecap:"round",strokeLinejoin:"round",filter:"url(#blurFilter)"})]})})},5383:(e,t,a)=>{a.a(e,async(e,s)=>{try{a.r(t),a.d(t,{default:()=>x});var r=a(8732),i=a(2015),o=a(4337),l=a(6958),c=a(7919),n=a(25),d=a(8075),u=a(6338),p=a(1415),m=e([o,l,c,d,u,p]);[o,l,c,d,u,p]=m.then?(await m)():m;let b=(0,i.lazy)(()=>a.e(868).then(a.bind(a,4868)));function x(){let[e,t]=(0,i.useState)(""),[a,s]=(0,i.useState)([]),[l,m]=(0,i.useState)(null),[x,g]=(0,i.useState)(null),[h,f]=(0,i.useState)(!1),[v,y]=(0,i.useState)(!0);(0,i.useRef)();let k=(0,i.useCallback)(async()=>{if(h||!v)return;f(!0);let e=(0,o.collection)(d.db,"products"),t=(0,o.query)(e,(0,o.orderBy)("index","desc"),(0,o.limit)(2));x&&(t=(0,o.query)(t,(0,o.startAfter)(x)));try{let e=await (0,o.getDocs)(t),a=e.docs.map(e=>({id:e.id,...e.data()}));s(e=>[...e,...a]),f(!1);let r=e.docs[e.docs.length-1];g(r),y(2===e.docs.length)}catch(e){console.error("Error fetching products:",e),f(!1)}},[h,v,x]),S=(0,i.useCallback)(async e=>{if(!l){let t=u.default.get("basket")?JSON.parse(u.default.get("basket")):[],a=new Map(t.map(e=>[`${e.id}-${e.size}`,e])),s=`${e.id}-${e.size}`;a.has(s)?a.get(s).quantity+=1:a.set(s,{...e,quantity:1,size:e.size});let r=Array.from(a.values());u.default.set("basket",JSON.stringify(r),{expires:7}),p.toast.success(`${e.name} added to your basket!`);return}let t=(0,o.doc)(d.db,"baskets",l.uid),a=await (0,o.getDoc)(t),s=new Map;if(a.exists()){let e=a.data();s=new Map(e.items.map(e=>[`${e.id}-${e.size}`,e]))}let r=`${e.id}-${e.size}`;s.has(r)?s.get(r).quantity+=1:s.set(r,{...e,quantity:1,size:e.size});let i=Array.from(s.values());await (0,o.setDoc)(t,{items:i}),p.toast.success(`${e.name} added to your basket!`)},[l]);return((0,i.useCallback)(async e=>{let t=u.default.get("basket")?JSON.parse(u.default.get("basket")):[];if(t.length>0){let a=(0,o.doc)(d.db,"baskets",e),s=await (0,o.getDoc)(a),r=new Map;if(s.exists()){let e=s.data();r=new Map(e.items.map(e=>[`${e.id}-${e.size}`,e]))}t.forEach(e=>{let t=`${e.id}-${e.size}`;r.has(t)?r.get(t).quantity+=e.quantity:r.set(t,e)});let i=Array.from(r.values());await (0,o.setDoc)(a,{items:i}),u.default.remove("basket")}},[]),(0,i.useCallback)(async e=>{try{let a=(0,o.doc)(d.db,"users",e),s=await (0,o.getDoc)(a);if(s.exists()){let e=s.data();t(e.firstName||"Valued User")}else t("Valued User")}catch(e){console.error("Error fetching user data:",e),t("Valued User")}},[]),h)?(0,r.jsx)(n.default,{}):(0,r.jsxs)(c.A,{children:[(0,r.jsx)("header",{className:"bg-gradient-to-b from-white to-gray-50 py-20 mb-16 border-b",children:(0,r.jsxs)("div",{className:"container mx-auto px-4 text-center",children:[(0,r.jsx)("h1",{className:"text-5xl font-black text-gray-900 mb-4 tracking-tight",children:"Our Collection"}),l&&(0,r.jsxs)("p",{className:"text-xl text-gray-600 font-medium",children:["Welcome back, ",e," ",(0,r.jsx)("span",{className:"wave",children:"\uD83D\uDC4B"})]})]})}),(0,r.jsxs)("main",{className:"container mx-auto px-4 mb-24",children:[(0,r.jsx)("div",{className:"grid grid-cols-1 gap-12",children:a.map((e,t)=>(0,r.jsx)("div",{className:"group relative",children:(0,r.jsx)(i.Suspense,{fallback:(0,r.jsx)("div",{className:"aspect-square bg-gray-100  animate-pulse"}),children:(0,r.jsx)(b,{product:e,onAddToBasket:S})})},e.id||`product-${t}`))}),v&&(0,r.jsx)("div",{className:"flex justify-center mt-16",children:(0,r.jsx)("button",{onClick:k,disabled:h,className:`w-full py-4 border-2 border-black font-bold uppercase tracking-wide flex items-center justify-center transition-all bg-black text-white hover:bg-white hover:text-black focus:bg-white focus:text-black focus:outline-none ${h?"opacity-50 cursor-not-allowed":""}`,children:h?"Loading...":"Load More"})})]})]})}s()}catch(e){s(e)}})},6472:e=>{e.exports=require("@opentelemetry/api")},361:e=>{e.exports=require("next/dist/compiled/next-server/pages.runtime.prod.js")},2015:e=>{e.exports=require("react")},2326:e=>{e.exports=require("react-dom")},8732:e=>{e.exports=require("react/jsx-runtime")},9021:e=>{e.exports=require("fs")},3873:e=>{e.exports=require("path")},7910:e=>{e.exports=require("stream")},4075:e=>{e.exports=require("zlib")},9846:e=>{e.exports=import("@vercel/analytics/react")},531:e=>{e.exports=import("@vercel/speed-insights/next")},6551:e=>{e.exports=import("firebase/app")},6958:e=>{e.exports=import("firebase/auth")},4337:e=>{e.exports=import("firebase/firestore")},3220:e=>{e.exports=import("framer-motion")},6338:e=>{e.exports=import("js-cookie")},1415:e=>{e.exports=import("sonner")},7508:e=>{e.exports=import("swiper/modules")},474:e=>{e.exports=import("swiper/react")}};var t=require("../webpack-runtime.js");t.C(e);var a=e=>t(t.s=e),s=t.X(0,[883,44,871,155],()=>a(7345));module.exports=s})();